<!DOCTYPE html>

<head>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" />
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/non-ios-extensions.js"></script>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

</head>

<body>
    <script>
        $(document).ready(function () {
            // Using a Promise object
            liff
                .init({
                    liffId: "1656766770-y9GzVJpG" // Use own liffId
                })
                .then(() => {
                    // Start to use liff's api
                    var place = liff.getOS();
                    console.log(place)
                    console.log(liff.getVersion())
                    console.log(liff.isLoggedIn() )
                    var access_token = liff.getAccessToken()
                    console.log(access_token)
                    $('#info').html(access_token)
                    if(!liff.isLoggedIn() ){
                        liff.login() 
                    }
                    if (liff.scanCodeV2) {
                        liff.scanCodeV2().then(result => {
                            $('#scan').html(result)
                            console.log(result)
                            // result = { value: '' }
                        });
                    }
                    if (liff.scanCode) {
                        liff.scanCode().then(result => {
                            $('#scan').html(result)
                            console.log(result)
                            // result = { value: '' }
                        });
                    }
                })
                .catch((err) => {
                    // Error happens during initialization
                    console.log(err.code, err.message);
                });
            
        });
    </script>
    test
    <div id="info"></div>
    <div id="scan"></div>
</body>